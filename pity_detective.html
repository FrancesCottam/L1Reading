<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PITY Detective - L1 Reading</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;700&family=DM+Sans:wght@400;500;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --persuade: #E63946;
            --inform: #457B9D;
            --teach: #2A9D8F;
            --bg-dark: #1D3557;
            --bg-light: #F1FAEE;
            --text: #1D3557;
            --accent: #F4A261;
        }
        
        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--bg-light);
            min-height: 100vh;
            padding: 15px;
            color: var(--text);
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .header {
            background: var(--bg-dark);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(29, 53, 87, 0.3);
        }
        
        .header h1 {
            font-family: 'Crimson Pro', serif;
            font-size: clamp(1.8rem, 5vw, 3rem);
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }
        
        .pity-legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .legend-item {
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            font-weight: 700;
            color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .persuade { background: var(--persuade); }
        .inform { background: var(--inform); }
        .teach { background: var(--teach); }
        
        .score-display {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-around;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        }
        
        .score-item {
            text-align: center;
        }
        
        .score-item .label {
            font-size: 0.9rem;
            color: #6B7280;
            margin-bottom: 5px;
        }
        
        .score-item .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--bg-dark);
            font-family: 'Crimson Pro', serif;
        }
        
        .text-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            animation: fadeIn 0.5s ease-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.98);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        .text-content {
            background: #F9FAFB;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            line-height: 1.8;
            border-left: 5px solid var(--accent);
        }
        
        .text-content h3 {
            font-family: 'Crimson Pro', serif;
            color: var(--bg-dark);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        .text-content p {
            margin-bottom: 12px;
        }
        
        .question-prompt {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--bg-dark);
            margin-bottom: 20px;
            text-align: center;
            font-family: 'Crimson Pro', serif;
        }
        
        .purpose-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .purpose-btn {
            padding: 25px 20px;
            border: 3px solid transparent;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        }
        
        .purpose-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .purpose-btn.selected {
            border-color: var(--bg-dark);
            box-shadow: 0 0 0 4px rgba(29, 53, 87, 0.2);
        }
        
        .btn-persuade {
            background: var(--persuade);
        }
        
        .btn-inform {
            background: var(--inform);
        }
        
        .btn-teach {
            background: var(--teach);
        }
        
        .submit-btn {
            width: 100%;
            padding: 20px;
            background: var(--accent);
            color: var(--bg-dark);
            border: none;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(244, 162, 97, 0.3);
        }
        
        .submit-btn:hover:not(:disabled) {
            background: #E76F51;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(244, 162, 97, 0.4);
        }
        
        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .feedback {
            margin-top: 25px;
            padding: 25px;
            border-radius: 15px;
            animation: slideIn 0.4s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .feedback.correct {
            background: linear-gradient(135deg, #D1FAE5 0%, #A7F3D0 100%);
            border-left: 5px solid var(--teach);
        }
        
        .feedback.incorrect {
            background: linear-gradient(135deg, #FEE2E2 0%, #FECACA 100%);
            border-left: 5px solid var(--persuade);
        }
        
        .feedback-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 15px;
            font-family: 'Crimson Pro', serif;
        }
        
        .feedback-text {
            line-height: 1.7;
            margin-bottom: 15px;
        }
        
        .clues-list {
            background: rgba(255,255,255,0.5);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }
        
        .clues-list ul {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        .clues-list li {
            margin-bottom: 8px;
            line-height: 1.6;
        }
        
        .hidden {
            display: none;
        }
        
        .final-results {
            text-align: center;
            padding: 40px 20px;
        }
        
        .final-results h2 {
            font-family: 'Crimson Pro', serif;
            font-size: 3rem;
            color: var(--bg-dark);
            margin-bottom: 20px;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .result-stat {
            background: linear-gradient(135deg, var(--bg-dark) 0%, #457B9D 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        
        .result-stat .number {
            font-size: 3rem;
            font-weight: 700;
            font-family: 'Crimson Pro', serif;
        }
        
        .result-stat .label {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        @media (max-width: 640px) {
            body {
                padding: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .text-card {
                padding: 20px;
            }
            
            .text-content {
                padding: 20px;
            }
            
            .purpose-buttons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîé PITY Detective</h1>
            <p>Identify text purposes like a pro</p>
        </div>
        
        <div class="pity-legend">
            <div class="legend-item persuade">P - Persuade</div>
            <div class="legend-item inform">I - Inform</div>
            <div class="legend-item teach">T - Teach</div>
        </div>
        
        <div class="score-display">
            <div class="score-item">
                <div class="label">Question</div>
                <div class="value"><span id="current">1</span>/6</div>
            </div>
            <div class="score-item">
                <div class="label">Correct</div>
                <div class="value" id="score">0</div>
            </div>
            <div class="score-item">
                <div class="label">Streak</div>
                <div class="value" id="streak">0</div>
            </div>
        </div>
        
        <div id="quiz-container"></div>
    </div>

    <script>
        const texts = [
            {
                content: `
                    <h3>Join Our Beach Clean-Up!</h3>
                    <p>Help protect marine life and keep our coast beautiful. Every piece of litter you collect makes a difference!</p>
                    <p>This Saturday, 9am-12pm. All equipment provided. Bring your friends and family - together we can make our beaches pristine again.</p>
                    <p>Sign up at beachclean@example.com. What are you waiting for?</p>
                `,
                correct: "persuade",
                explanation: "This text is trying to CONVINCE you to join the beach clean-up. Notice the emotional language ('protect marine life', 'make a difference'), the call to action ('Sign up'), and the direct challenge ('What are you waiting for?'). These are all persuasive techniques.",
                clues: [
                    "Emotional language: 'protect', 'beautiful', 'pristine'",
                    "Benefits highlighted: 'makes a difference'",
                    "Direct command: 'Sign up', 'Bring your friends'",
                    "Question to prompt action: 'What are you waiting for?'"
                ]
            },
            {
                content: `
                    <h3>Library Opening Hours - Update</h3>
                    <p>The library will be closed for refurbishment from June 1st to June 14th.</p>
                    <p>During this period, the mobile library service will operate in the car park on Tuesdays and Thursdays, 2pm-5pm.</p>
                    <p>Normal opening hours (Mon-Fri 9am-7pm, Sat 10am-5pm) will resume on June 15th.</p>
                `,
                correct: "inform",
                explanation: "This text is purely INFORMATIVE - it's giving you facts about the library closure and alternative arrangements. Notice there are no opinions, no emotional language, and no persuasion. Just clear, practical information with specific dates and times.",
                clues: [
                    "Specific dates and times given",
                    "Factual tone - no emotions or opinions",
                    "Simply reporting what will happen",
                    "No attempt to convince or instruct you to do anything"
                ]
            },
            {
                content: `
                    <h3>How to Create a Strong Password</h3>
                    <p>Follow these steps to protect your accounts:</p>
                    <p>1. Use at least 12 characters<br>
                    2. Include uppercase and lowercase letters<br>
                    3. Add numbers and symbols (!@#$%)<br>
                    4. Avoid using personal information like birthdays<br>
                    5. Use a different password for each account</p>
                    <p>Remember to change your passwords every 3 months.</p>
                `,
                correct: "teach",
                explanation: "This text is TEACHING/INSTRUCTING you how to create a password. The numbered steps, imperative verbs ('Use', 'Include', 'Add', 'Avoid'), and sequential format are all typical of instructional texts. It's telling you HOW to do something.",
                clues: [
                    "Step-by-step numbered list",
                    "Imperative verbs: 'Use', 'Include', 'Add', 'Avoid'",
                    "Clear instructions on HOW to do something",
                    "Tells you what to do, not just what happened or why you should do it"
                ]
            },
            {
                content: `
                    <h3>Transform Your Health Today!</h3>
                    <p>Our fitness program has helped thousands achieve their dream body. You'll gain strength, lose weight, and feel amazing - all from home!</p>
                    <p>Don't let another day go by feeling unhappy. Join now and get 50% off your first month. Limited spaces available!</p>
                    <p>What are you waiting for? Start your journey today!</p>
                `,
                correct: "persuade",
                explanation: "Classic PERSUASIVE text - it's trying to sell you a fitness program. Notice the emotional promises ('dream body', 'feel amazing'), urgency ('Don't let another day go by', 'Limited spaces'), and the special offer to incentivize action. It's all designed to make you sign up.",
                clues: [
                    "Emotional promises: 'transform', 'dream body', 'feel amazing'",
                    "Creates urgency: 'Don't let another day go by', 'Limited spaces'",
                    "Offers incentive: '50% off'",
                    "Direct calls to action: 'Join now', 'Start your journey'"
                ]
            },
            {
                content: `
                    <h3>New Study on Sleep Patterns</h3>
                    <p>Research published today shows that teenagers need 8-10 hours of sleep per night for optimal health. However, only 15% currently achieve this amount.</p>
                    <p>The study, conducted by Manchester University over three years, found that sleep deprivation affects concentration, mood, and physical health in young people.</p>
                    <p>Dr. Sarah Williams noted that early school start times may contribute to the problem.</p>
                `,
                correct: "inform",
                explanation: "This is an INFORMATIVE news article reporting on research findings. It presents facts and statistics objectively without trying to persuade you or tell you what to do. The neutral tone, cited sources (Manchester University, Dr. Williams), and focus on reporting findings are typical of informative texts.",
                clues: [
                    "Reports research findings objectively",
                    "Includes statistics: '15%', '8-10 hours', 'three years'",
                    "Cites sources: 'Manchester University', 'Dr. Sarah Williams'",
                    "Neutral tone - no emotional language or calls to action"
                ]
            },
            {
                content: `
                    <h3>Setting Up Email on Your Phone</h3>
                    <p>Step 1: Open Settings on your device<br>
                    Step 2: Scroll down and tap 'Mail'<br>
                    Step 3: Select 'Add Account'<br>
                    Step 4: Choose your email provider<br>
                    Step 5: Enter your email and password<br>
                    Step 6: Tap 'Next' to complete setup</p>
                    <p>If you experience problems, check your internet connection is active.</p>
                `,
                correct: "teach",
                explanation: "This is a TEACHING/INSTRUCTIONAL text showing you HOW to set up email. The step-by-step format, imperative verbs ('Open', 'Scroll', 'Tap', 'Enter'), and troubleshooting advice are all characteristics of instructional texts. It's a guide for completing a task.",
                clues: [
                    "Step-by-step numbered sequence",
                    "Imperative verbs: 'Open', 'Scroll', 'Tap', 'Select', 'Enter'",
                    "Describes a process to follow",
                    "Includes troubleshooting: 'If you experience problems...'"
                ]
            }
        ];

        let currentText = 0;
        let score = 0;
        let streak = 0;
        let selectedPurpose = null;

        function renderText() {
            const text = texts[currentText];
            const container = document.getElementById('quiz-container');
            
            container.innerHTML = `
                <div class="text-card">
                    <div class="text-content">
                        ${text.content}
                    </div>
                    
                    <div class="question-prompt">
                        What is the purpose of this text?
                    </div>
                    
                    <div class="purpose-buttons">
                        <button class="purpose-btn btn-persuade" onclick="selectPurpose('persuade')">
                            Persuade
                        </button>
                        <button class="purpose-btn btn-inform" onclick="selectPurpose('inform')">
                            Inform
                        </button>
                        <button class="purpose-btn btn-teach" onclick="selectPurpose('teach')">
                            Teach
                        </button>
                    </div>
                    
                    <button class="submit-btn" id="submit" onclick="checkAnswer()" disabled>
                        Submit Answer
                    </button>
                    
                    <div id="feedback" class="hidden"></div>
                </div>
            `;
            
            selectedPurpose = null;
        }

        function selectPurpose(purpose) {
            selectedPurpose = purpose;
            
            document.querySelectorAll('.purpose-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            event.target.classList.add('selected');
            document.getElementById('submit').disabled = false;
        }

        function checkAnswer() {
            const text = texts[currentText];
            const feedback = document.getElementById('feedback');
            const isCorrect = selectedPurpose === text.correct;
            
            document.querySelectorAll('.purpose-btn').forEach(btn => {
                btn.style.pointerEvents = 'none';
            });
            
            if (isCorrect) {
                score++;
                streak++;
                document.getElementById('score').textContent = score;
                document.getElementById('streak').textContent = streak;
            } else {
                streak = 0;
                document.getElementById('streak').textContent = streak;
            }
            
            let cluesHtml = '';
            if (text.clues) {
                cluesHtml = `
                    <div class="clues-list">
                        <strong>Key clues you should have spotted:</strong>
                        <ul>
                            ${text.clues.map(clue => `<li>${clue}</li>`).join('')}
                        </ul>
                    </div>
                `;
            }
            
            feedback.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = `
                <div class="feedback-title">
                    ${isCorrect ? '‚úì Correct!' : '‚úó Not quite!'}
                </div>
                <div class="feedback-text">
                    <strong>The correct answer is: ${text.correct.toUpperCase()}</strong>
                </div>
                <div class="feedback-text">${text.explanation}</div>
                ${cluesHtml}
            `;
            feedback.classList.remove('hidden');
            
            const submitBtn = document.getElementById('submit');
            submitBtn.textContent = currentText < texts.length - 1 ? 'Next Text ‚Üí' : 'See Results';
            submitBtn.onclick = nextText;
        }

        function nextText() {
            currentText++;
            
            if (currentText < texts.length) {
                document.getElementById('current').textContent = currentText + 1;
                renderText();
            } else {
                showResults();
            }
        }

        function showResults() {
            const container = document.getElementById('quiz-container');
            const percentage = Math.round((score / texts.length) * 100);
            
            let message = '';
            let emoji = '';
            
            if (percentage === 100) {
                message = "Perfect! You're a PITY master!";
                emoji = "üèÜ";
            } else if (percentage >= 70) {
                message = "Great work! You understand PITY well!";
                emoji = "üåü";
            } else if (percentage >= 50) {
                message = "Good effort! Review the clues and try again.";
                emoji = "üëç";
            } else {
                message = "Keep practicing! PITY will get easier.";
                emoji = "üìö";
            }
            
            container.innerHTML = `
                <div class="text-card final-results">
                    <div style="font-size: 5rem; margin-bottom: 20px;">${emoji}</div>
                    <h2>Quiz Complete!</h2>
                    
                    <div class="results-grid">
                        <div class="result-stat">
                            <div class="number">${score}/${texts.length}</div>
                            <div class="label">Correct</div>
                        </div>
                        <div class="result-stat">
                            <div class="number">${percentage}%</div>
                            <div class="label">Score</div>
                        </div>
                    </div>
                    
                    <p style="font-size: 1.3rem; margin: 30px 0; color: var(--bg-dark);">
                        ${message}
                    </p>
                    
                    <button class="submit-btn" onclick="location.reload()">
                        Try Again
                    </button>
                </div>
            `;
        }

        // Initialize
        renderText();
    </script>
</body>
</html>
